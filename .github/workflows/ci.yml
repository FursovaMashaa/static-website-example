name: CI - Validate Static Site

on:
  push:
    branches: [github-actions, main]
  pull_request:
    branches: [github-actions, main]

jobs:
  validate:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Check HTML structure
        run: |
          echo "üîç Checking static website structure..."
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
          REQUIRED_FILES=("index.html")
          
          for file in "${REQUIRED_FILES[@]}"; do
            if [ ! -f "$file" ]; then
              echo "‚ùå ERROR: Required file $file not found!"
              exit 1
            else
              echo "‚úÖ Found: $file"
            fi
          done
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
          echo "üìÅ Directory structure:"
          find . -type f -name "*.html" -o -name "*.css" -o -name "*.js" | head -20
          
          # –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ HTML
          if grep -qi "<!DOCTYPE html>" index.html; then
            echo "‚úÖ HTML doctype found"
          else
            echo "‚ö†Ô∏è  Warning: HTML doctype not found in index.html"
          fi
          
          echo "üéâ Validation passed!"
      
      - name: Check file sizes
        run: |
          echo "üìä File sizes:"
          find . -type f \( -name "*.html" -o -name "*.css" -o -name "*.js" \) -exec ls -lh {} \;
